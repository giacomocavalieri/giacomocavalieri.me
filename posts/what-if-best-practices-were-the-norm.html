<html lang="en"><head><title>What if best practices were actually the norm?</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"><meta property="og:site_name" content="Giacomo Cavalieri's blog"><meta property="og:title" content="What if best practices were actually the norm?"><meta property="og:type" content="website"><meta name="image" property="og:image" content="https://gravatar.com/avatar/930095e94cf0f8aefe5d778fd84a3b62ed104feb081945c6a3b3c4ce53775379?s=440"><meta property="og:description" content="No abstract yet"><meta name="description" content="No abstract yet"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="What if best practices were actually the norm?"><meta property="twitter:description" content="No abstract yet"><meta property="twitter:creator" content="@giacomo_cava"><meta property="twitter:image" content="https://gravatar.com/avatar/930095e94cf0f8aefe5d778fd84a3b62ed104feb081945c6a3b3c4ce53775379?s=440"><meta name="theme-color" content="#cceac3" media="(prefers-color-scheme: light)"><link rel="stylesheet" href="/style.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script><script src="/highlightjs-gleam.js"></script><script>hljs.highlightAll();</script></head><body><div class="limit-max-width-and-center"><article class="post h-entry"><header><h1 class="post-title p-name">What if best practices were actually the norm?</h1><nav class="breadcrumbs"><a rel="author" href="/">← home</a></nav><div class="post-subtitle"><time datetime="25-10-2023" class="post-date dt-published">2023 october 25</time><ul class="post-tags"><li class="post-tag p-category"><a href="/tags/fp.html">fp</a></li><li class="post-tag p-category"><a href="/tags/gleam.html">gleam</a></li></ul></div></header><main class="post-body e-content"><p>During my second year of university I followed an amazing course dedicated to
object-oriented programming, held by one of the best professors I&#39;ve
ever had the pleasure to meet. It focused not only on the language in itself
— Java, in this case — but also on the <em>best practices</em> we ought to follow to
make code easier to refactor and reason about.
To me, a freshman who only knew C, that felt almost like magic and I quickly
fell in love with Java.</p><p>Quite a few years have passed since then, and my honeymoon phase with Java is
long over. As I learned new languages and grew as a developer, I&#39;ve come to
dislike a lot of the ceremonies and self-imposed restrictions that can come with
good object-oriented code.</p><p>What if the best practices I&#39;m forcing myself to follow (with good reason, don&#39;t
get me wrong!) were easier to adopt and put into practice? Heck, what if they
were <em>the only way</em> to write code and not some rule that could be ignored?</p><p><em>What if best practices were actually the norm?</em></p><h2>What&#39;s a best practice?</h2><p>Java is a powerful language and gives us a lot of room to write clean,
expressive code.
However, with great powers comes great responsibility and we have to learn that
even some of the core &quot;features&quot; of the language can turn into a footgun if not
used with great care.</p><p>The best practices I&#39;m going to cover are mostly unwritten rules that we need to
<em>constrain</em> Java and make sure our code will be well-behaved.</p><h3>A running example</h3><p>Imagine you&#39;re tasked to write a class to describe the users of an application,
for now we&#39;re just focused on storing a user&#39;s name and birthday.</p><blockquote><p>I know this example may sound a bit simplistic, a user will surely be way
more complicated in a real-world scenario.
Bear with me, we&#39;ll be able to learn a lot of things even from such a
bare-bones example.</p></blockquote><p>Now, a programmer who&#39;s just getting started with Java might intuitively write
something dead simple that looks like this:</p><pre><code data-lang="java" class="not-prose language-java">class User {
  String name;
  Date birthday;

  User(String name, Date birthday) {
    this.name = name;
    this.birthday = birthday;
  }
}</code></pre><p>A seasoned Java developer will probably be horrified by this small code snippet:
a lot of subtle sources of bugs and runtime exceptions hide in this seemingly
harmless piece of code. We&#39;ll come to this later, but you can already start to
notice how the simple and immediate thing is not the best one!</p><h3><code>null</code>, or the bane of every Java programmer</h3><h2>TODO</h2><ul><li><p>What are best practices</p><ul><li><p>Give an idea</p></li><li><p>Provide a running example</p><ul><li><p>User with some field (birthday, ID and name so I can also drill down on
immutability)</p></li><li><p>It should start dumb and then improve it to show some best practices!</p><ul><li><p>favour immutability (gives us peace of mind)</p></li><li><p>no null</p><ul><li><p>a function can lie!</p></li><li><p>the bane of every java programmer</p></li><li><p>we have to do a lot of defensive programming</p></li><li><p>the compiler is not helping us, so we have to always be on the lookout</p></li></ul></li><li><p>no runtime exceptions as a control flow mechanism</p><ul><li><p>a lot of similarities with null</p></li><li><p>yet another distinct mechanism to deal with control flow</p></li></ul></li><li><p>As programmers we&#39;re incredibly good at ignoring the milion possible
ways in which our software could fail and focus only on the happy path</p></li></ul></li></ul></li><li><p>The problem with best practices</p><ul><li><p>Those are... <em>practices</em>! They can be completely ignored, I&#39;ll never have
the guarantee that the code I&#39;m using, or my colleagues are writing will
follow those</p></li><li><p>Having rules that can be ignored is like having none at all, we&#39;re always
on the lookout</p></li><li><p>Even the most skilled Java programmer will eventually forget a null check
and allow some sneaky bug to enter the codebase</p></li><li><p>We have to be welcoming to new developers, if to be a good java developer
you have to be aware of a dozen of unwritten rules you&#39;re doing a horrible
job at making begginers productive in your language</p></li></ul></li><li><p>Enters Gleam</p><ul><li><p>Best practices become the rule of the game, the only way to write software
is the &quot;good&quot; way</p></li><li><p>No need to do null checking, there&#39;s no null</p></li><li><p>No exceptions, a function has to be explicit about possible failures</p><ul><li><p>We do everything with pattern matching, no need for special mechanisms
like exceptions</p></li></ul></li><li><p>The compiler is our greatest ally, I like to think of it as if I&#39;m pair
programming with someone way smarter than me who can pinpoint every
possible piece of code where things could go wrong</p><ul><li><p>It reminds me where my code could fail and forces me to handle it,
so there&#39;s no way I&#39;m forgetting to check if loading a user failed, even
after 20 hours in front of a screen</p></li></ul></li><li><p>A begginer is immediately productive and won&#39;t be able to mess up as
easily</p><ul><li><p>The language shows you a single, well-defined path: it gently pushes you
in a &quot;pit of success&quot;, instead of dropping you in the middle of a maze
of choices you have to painfully and carefully evaluate</p></li></ul></li></ul></li></ul></li></ul></main></article></div></body></html>