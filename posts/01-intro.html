<html lang="en"><head><title>Look! I made this with Lustre ‚ú®</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:site_name" content="Giacomo Cavalieri's blog"><meta property="og:title" content="Look! I made this with Lustre ‚ú®"><meta property="og:type" content="website"><meta name="image" property="og:image" content="https://gravatar.com/avatar/930095e94cf0f8aefe5d778fd84a3b62ed104feb081945c6a3b3c4ce53775379?s=440"><meta property="og:description" content="I still have to write a good abstract"><meta name="description" content="I still have to write a good abstract"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Look! I made this with Lustre ‚ú®"><meta property="twitter:description" content="I still have to write a good abstract"><meta property="twitter:creator" content="@giacomo_cava"><meta property="twitter:image" content="https://gravatar.com/avatar/930095e94cf0f8aefe5d778fd84a3b62ed104feb081945c6a3b3c4ce53775379?s=440"><meta name="theme-color" content="#cceac3" media="(prefers-color-scheme: light)"><link rel="stylesheet" href="/style.css"></head><body><article class="post h-entry"><header><h1 class="post-title p-name">Look! I made this with Lustre ‚ú®</h1><nav class="breadcrumbs"><a rel="author" href="/">‚Üê home</a></nav><div class="post-subtitle"><time datetime="25-10-2023" class="post-date dt-published">2023 october 25</time><ul class="post-tags"><li class="post-tag p-category"><a href="/tags/fp.html">fp</a></li><li class="post-tag p-category"><a href="/tags/gleam.html">gleam</a></li></ul></div></header><main class="post-body e-content"><blockquote><p>Wip!</p></blockquote><p>Hello! I&#39;m Giacomo üëã</p><p>I love functional programming and getting caught in rabbit holes; the thing I
love most, though, is sharing what I learn with my friends (sorry guys for
nagging you, you&#39;re the best for putting up with me)!</p><p>What better way to pester even more people than setting up a personal blog?
What gave me the push I needed to get started was an awesome language I run into
almost a year ago: <a href="https://gleam.run">Gleam</a>.</p><p>Whenever I start learning a new language I usually try to pick up a small-ish
project to help me get a feeling for the language and keep me motivated
throughout my learning journey.
The idea of writing a personal blog was already in the back of my mind, so when
I approached Gleam I decided to write... you guessed it: a static site
generator!</p><p>Long story short, I never actually completed my project; but during this journey
I fell in love with the language and its community and I decided to stick
around!</p><h2>Gleam: get in for the language...</h2><p>Gleam is a remarkably simple language: if you&#39;re already familiar with some
functional programming concepts, you&#39;ll be able to pick it up in no time.
A couple of evenings could be enough for you to learn all there is to the core
language and start hacking on your own projects.</p><blockquote><p><em>&quot;But what if I&#39;ve never tried functional programming before?</em>
<em>Will I find it easy?&quot;</em></p><p>Getting into functional programming can be a bit daunting.
I remember when I first got started with it - almost four years ago - I
gave up twice before it finally clicked.
That&#39;s totally normal! FP has its own way of doing things and it can require a
bit of a mindset shift and a lot of head scratching you get used to it.</p><p>If you&#39;ve never tried functional programming or - just like me - you&#39;ve tried
and where discouraged, I can recommend you the
<a href="https://exercism.org/tracks/gleam/concepts">Gleam&#39;s Exercism track</a>: it will
guide you through the language and gently help you get in the &quot;functional&quot;
mindset!</p></blockquote><p>But what does simple actually mean? To me it&#39;s the ability to <em>concisely put my</em>
<em>ideas into code without having to trudge through loads of bells and whistles,</em>
having to painstakingly decide which is the right fit for the problem at
hand.
The language offers you a <em>small number of features</em> that are <em>useful and cohesive,</em>
there&#39;s no two ways to do the same thing.
Everything is carefully though out, and something gets added to the
language only if it is clear that it will add a lot of value to it!</p><p>Coming from languages with a huge surface - like Java, C# or Kotlin, just to
name a few - it feels almost exhilarating: the language only allows you to
follow a single, well-defined path instead of leaving you in the middle of a
maze of choices
(<em>&quot;Wait, should I use an interface here? Or is a class enough?&quot;</em>,
<em>&quot;Maybe a record class is the better choice for this problem, or should I stick with a normal one?&quot;</em>,
<em>&quot;Shoot, I can&#39;t remember how delegates work&quot;</em>,
<em>&quot;For the love of me, I can&#39;t understand lambdas with receivers!&quot;</em>).</p><h3>Your first Gleam program</h3><p>Enough talking, let&#39;s have a look at a Gleam program.</p><h3>Outstanding developer experience</h3><p>Gleam as a whole is a pleasure to work with and it provides a lot of</p><h2>...stay for the amazing community</h2><p>What really sealed the deal for me was the incredible community that has formed
around the language.</p><p>People in the official Discord are welcoming and incredibly nice.
Even after the worst disheartening days at work, chatting with everyone always
managed to lighten my mood.
I&#39;ve learnt loads of new things just by hanging around and it&#39;s just a pleasure
to chat and share things with everyone.</p><blockquote>There was an unhandled md element!</blockquote><blockquote>There was an unhandled md element!</blockquote><blockquote>There was an unhandled md element!</blockquote><h3>What if best practices were actually the norm?</h3><p>During my second year at university I had to learn Java, there was even an entire
course dedicated to object oriented languages! It really was a great course
and it was held by one of the best professors I&#39;ve ever had the pleasure to meet.</p><p>It focused not only on the language in itself, but also on the &quot;best practices&quot;
to follow that would make code easier to refactor and reason about: favour
immutability, avoid exceptions as a control flow mechanism,
<em>never</em> return <code>null</code>, and the list goes on.</p><p>The problem is, these are just <em>practices</em>, nothing is enforced by the language
itself: you&#39;ll always be able to throw an exception or sneakily return a null.
Since a code snippet is worth a thousand words let me show you an example:</p><pre><code data-lang="java" class="not-prose language-java">interface User {
  String name()
}

class Users {
  // Returns the user with the given id
  public static User load(int id) {
    // The implementation is not important, it may fetch
    // the user from a DB or somewhere else entirely
  }
}

// We can define the main function like this since
// Java 21 with unamed classes (yet another feature)!
void main() {
  var user = Users.load(1)
  System.out.println(user.name())
}</code></pre><p>A season Java developer will immediately notice all the little ways in which
this seemingly harmless snippet of code could fail. The <code>load</code> function is
actually lying to us: it sais it will return a <code>User</code>, but in reality it may
throw an exception or even return a sneaky <code>null</code> resulting in a much dreaded
<code>NullPointerException</code>.</p><p>The problem is that someone has to always be on the lookout and remember to add
all kind of checks to ensure the program is never going to unexpectedly fail at
runtime: check that objects are not null, wrap function calls in <code>try-catch</code>
blocks, make defensive copies of data structures.</p><p>As programmers we&#39;re <em>incredibly good at ignoring the milion possible ways in</em>
<em>which our software could fail</em> and focus only on the happy path. Sooner or
later, even the best programmer will forget a null check or a try catch,
allowing sneaky bugs to enter in the codebase.</p><h3>What if best practices were actually the norm?</h3><pre><code data-lang="gleam" class="not-prose language-gleam">pub type User

// Returns the user with the given id
pub fn load_user(id: Int) -&gt; Result(User, Nil) {
  // The implementation is not important, it may fetch
  // the user from a DB or somewhere else entirely
}

pub fn main() {
  let user = load_user(1)
  io.println(user.name)
}</code></pre><p>On the surface, this Gleam snippet may look almost identical to the Java one I
showed you earlier.</p><p>Here something truly remarkable is happening, the Gleam compiler lifts this load
from the developer and takes care of it: the language.</p></main></article></body></html>